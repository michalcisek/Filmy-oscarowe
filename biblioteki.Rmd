---
title: "Biblioteki - notatki"
output:
  html_notebook: default
  pdf_document: default
---

# viridis
Biblioteka w Pythonie *Matplotlib* wprowadziła ostatnio nowe standardy kolorów map - nazwane viridis, magma, inferno i plasma. Viridis stał się nową standardową mapą kolorów Matplotlibu. Mapy zostały tak zaprojektowane, że mogą być poprawnie postrzegane przez daltonistów, a także wydrukowane na biało-czarno.
```{r, echo=TRUE}
#install.packages("viridis")
library(viridis)
```
Żeby użyć skali viridis w ggplot używamy scale_fill_viridis() albo scale_color_viridis(). Można także jako argument w tych funkcjach podać inną skalę wyżej wymienioną, np.: scale_fill_virdis(option="magma"). Może być także używana w przypadku zmiennej dyskretnej, np.: scale_color_viridis(discrete=T)
```{r, echo=TRUE}
#install.packages("hexbin")
library(hexbin)
library(ggplot2)
ggplot(data.frame(x = rnorm(10000), y = rnorm(10000)), aes(x = x, y = y)) +
  geom_hex() + coord_fixed() +
  scale_fill_viridis() + theme_bw()
```

Funkcja viridis() generuje wektor kolorów z mapy kolorów virdis

```{r}
viridis(n=10, alpha=1, option="D")
```

option:

* "A"="magma"
* "B"="inferno"
* "C"="plasma"
* "D"="viridis"

Fukcja viridis_pal() tworzy dyskretną paletę kolorów z viridis. Poniżej fajny kawałek kodu do wizualizacji wygenerowanych kolorów

```{r}
library(scales)
show_col(viridis_pal()(10))
```
Zwróć uwagę na dziwne wywowałenie tej funkcji. 

Należy też zauważyć, że ten sam output daje viridis_pal()(10) jak i viridis(10).

# permute
Do sprawdzania, czy rozkłady, z których pochodzą próby, są takie same, stosuje się rozma-
ite testy statystyczne. Zawsze polegają one na obliczeniu pewnej funkcji, zwanej
statystyką testową,  której  argumentem  są  zadane  próby.  Wynik  tej  funkcji  z  pomocą  tablic  (a  coraz
częściej komputera) przekształca się na p-wartość, która porównana z założonym poziomem
istotności pozwala nam stwierdzić istnienie lub brak przesłanek do podważenia prawdziwości
hipotezy o równości rozkładów.

Niestety  bardzo  często  (np.  w  przypadku  testu  t-Studenta)  ich  teoretyczne  podstawy
wymagają dodatkowych założeń o porównywanych rozkładach (np. o normalności rozkładów).
Bez tych założeń nie wiedzielibyśmy jaki jest rozkład statystki testowej, a więc i p-wartości
uzyskane byłyby w sposób heurystyczny, bez dowodu, że są one poprawne. Niestety w praktyce
nie zawsze można formalnie sprawdzić czy zachodzą wymagane założenia o rozkładach.

Okazuje  się  jednak,  że  zamiast  wielu  testów  możemy  zastosować  odpowiadające  im  te-
sty permutacyjne, które nie wymagają dodatkowych założeń o rozkładach porównywanych
prób. Testy te opierają się na spostrzeżeniu, że jeżeli hipoteza zerowa o równości rozkładów
jest prawdziwa, to zamiast naszych dwóch prób mogliśmy, z takim samym prawdopodobień-
stwem, zobaczyć obserwacje o tych samych wartościach, ale innym podziałem na próby. Dla
przykładu,  gdy  naszą  obserwacją  są  dwie  dwuelementowe  próby:  ({0,2,0,37},{0,11,0,29}),
i zakładamy, że pochodzą z takich samych rozkładów, to równie prawdopodobne było zaob-
serwowanie prób ({0,2,0,29},{0,11,0,37}), czy też ({0,11,0,2},{0,29,0,37}).
Powyższe spostrzeżenie pozwala znaleźć rozkład statystki testowej, na podstawie wartości
uzyskanych przez tę funkcję przy różnych podziałach na próby. Dzięki temu możemy obliczyć
p-wartość i dalej postępować tak, jak w przypadku innych testów statystycznych.

Randomizacja jest to losowy dobór osób do badania. Losowość należy tutaj rozumieć, że każdy przypadek z badanej populacji ma taką samą szansę być uczestnikiem badania co każdy inny. Stosując odpowiednie metody losowania badacze "dają" szansę każdej osobie zpopulacji na bycie osobą badaną. 

Powody stosowania randomizacji w badaniach to:

1. zminimalizowanie wpływu zmiennych niekontrolowanych. Stosując losowość doboru osób do badania minimalizuje się wpływ niekontrolowanych czynników.

2. odzwierciedlenie charakterystyki populacji (np. Polacy) w badanej próbie (np. 1000 osób)

3. uprawdopodobnienie otrzymanych rezultatów badań

